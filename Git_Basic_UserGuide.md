---
title: "Git_Basic_UserGuide"
date: 2022-02-23T09:54:21+08:00
draft: true
---

# Git基础使用不完全指北

## 简介

Git 是一个**分布式版本控制系统**，可以在本地与远程端均部署一个仓库，本地与远程之间可以同步更改。

Git 的特点：

1. Git 直接记录快照，而非差异比较： 在 Git 中，每当你提交更新或保存项目状态时，它基本上就会对当时的全部文件创建一个快照并保存这个快照的索引。 为了效率，如果文件没有修改，Git 不再重新存储该文件，而是只保留一个链接指向之前存储的文件。 Git 对待数据更像是一个**快照流**。
2. 近乎所有操作都是本地执行：在 Git 中的绝大多数操作都只需要访问本地文件和资源，一般不需要来自网络上其它计算机的信息。仅仅在与远程端同步的时候需要网络操作。
3. Git 保证完整性：Git 中所有的数据在存储前都计算校验和，然后以校验和来引用。
4. Git 一般只添加数据：你执行的 Git 操作，几乎只往 Git 数据库中**添加**数据。你**很难**使用 Git 从数据库中**删除**数据，也就是说 Git 几乎不会执行任何可能导致文件不可恢复的操作。

## 基础使用流程

### Git 的概念

Git 有三种状态，你的文件可能处于其中之一： 已提交（committed）、已修改（modified） 和 已暂存（staged）。

* 已修改表示修改了文件，但还没保存到数据库中。
* 已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。
* 已提交表示数据已经安全地保存在本地数据库中。

对应的，Git 项目拥有三个阶段：工作区、暂存区以及 Git 目录。

* 工作区是对项目的某个版本独立提取出来的内容。 这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘上供你使用或修改。
* 暂存区是一个文件，保存了下次将要提交的文件列表信息，一般在 Git 仓库目录中。 按照 Git 的术语叫做“索引”，不过一般说法还是叫“暂存区”。
* Git 仓库目录是 Git 用来保存项目的元数据和对象数据库的地方。 这是 Git 中最重要的部分，从其它计算机克隆仓库时，复制的就是这里的数据。

### Git 的使用流程

基本的 Git 工作流程如下：

1. 在工作区中修改文件。
2. 将你想要下次提交的更改选择性地暂存，这样只会将更改的部分添加到暂存区。
3. 提交更新，找到暂存区的文件，将快照永久性存储到 Git 目录。

如果 Git 目录中保存着特定版本的文件，就属于**已提交**状态。 如果文件已修改并放入暂存区，就属于**已暂存**状态。 如果自上次检出后，作了修改但还没有放到暂存区域，就是**已修改**状态。

简而言之，就是修改文件-提交暂存-提交更新。

在日常使用中，还会使用到在本地新建仓库(init)、在本地克隆远程仓库(clone)、拉取远程仓库(pull)、把本地仓库推送到远程(push)、合并(merge)、变基(rebase)、新建分支(branch)、标记(tag)、软回退(soft)、硬回退(hard)。

## 使用示例

下面演示如何在本地新建一个 Git 仓库(Hello_Git)，新建一个文件，把该文件添加到暂存区，提交，新建一个分支，做一个标记，然后推送到 Github 上。

### 命令行

1. 新建文件夹(Hello_Git), 并在文件夹打开终端
2. 终端输入`git init`，可以通过`git config user.name`和`git config user.email`查询并修改当前用户的名字和邮箱。可以输入`git config --list`查看所有Git配置信息
3. 添加一个文件(Git_Basic_UserGuide.md)
4. 终端输入`git add .`添加所有文件到暂存区，或者`git add Git_Basic_UserGuide.md`添加仅指定目录或文件
5. 在完成一次添加后，可以通过`git status -s`查看git仓库状态。如果此时修改了已经添加到暂存区的文件，需要再次添加。
6. 在所有文件都修改完毕后，添加到暂存区，然后输入`git commit -m [message]`把当前暂存区文件提交到本地仓库中。可以通过`git log`查询历史提交信息。
7. 新建一个分支`git branch [branch name]`, 用`git checkout [branch name]`切换到对应分支, 并做出一些修改，然后进行一次提交。
8. 切换到`master`, 使用`git merge [branch name]`, 将`[branch name]`分支的内容合并到`master`分支。也可以使用`git rebase master [branch name]`实现**结果相同**的操作。但通常使用`merge`
9. 在对应的提交上进行标记`git tag [tags]`，一般`[tags]`的内容是版本号如v1.0.0之类的。
10. 添加远程仓库`git remote add origin [remote address]`。
11. 把本地仓库推送到远程。`git push origin master`：将本地的master分支推送到远程。注意，默认情况下，不会传送标签到远程仓库，必须显式地推送标签`git push origin [tags]`

### VSCode





### CLion/PyCharm

## 参考链接

1. [git官方参考文档](https://git-scm.com/docs "git官方参考文档")

2. [git官方教程](https://git-scm.com/book/zh/v2 "git官方教程")